---
title: "More than Fortnite: An Analysis of Video Game Sales Using the Dataset *Video Game Sales with Ratings* by Rush Kirub"
subtitle: "Section: 1:20PM"
author: "Sandy Rosas, Pete Schultz & Tanush Samson"
date: "11/16/18"
output: 
  html_document: 
    fig_caption: yes
---


```{r,include=FALSE}
# These commands should always be near the top to ensure the libraries are loaded before the analysis.
library(mosaic)
library(Lock5withR)
library(readr)
library(dplyr)
Games2 = read.csv(file = "VGS.csv")
#Games2 = read.csv(file="C:\\Users\\tanus\\Documents\\VGS.csv")
head(Games2)
```

### Background
The videogame industry is a multi-billion dollar industry and a significant part of the world economy. We investigated certain trends and patterns within this industry to better understand it. The specific relationships we were interested in are Critic Score and Global Sales, Video Game Sales (by region) and civilian population, and Console and Global Sales. From this we are able to understand if games with a higher Critic Score sell more units globally, learn if the Japanese, European, and North American video game markets are representative of the amount of people living in each region, and to see how well a video game sells on PS4, Xbox One, and WiiU.


### Methods
We obtained our data from an online dataset called "Video Game Sales with Ratings" by Rush Kirubi from www.kaggle.com.  

With this dataset, we create a randomization distribution of the correlation between global sales (in millions of units) and critic scores. From this we check the probabilty of obtaining a sample correlation statistic as extreme as ours assuming there is no correlation. We assumed that the correlation would be positive, so our alternative hypothesis was $\rho > 0$.

Further, we use a 90% confidence interval to find the average global sale (in millions of units) of a video game on a variety of consoles (PS4, Xbox One and WiiU).  

Lastly,  we create a randomization distribution of the correlation between North American Sales (in millions of units) and European Sales (in millions of units). From this we check the probabilty of obtaining a sample correlation statistic as extreme as ours assuming there is no correlation. We assumed that the correlation would be positive due to similar cultural characterisitcs between the two regions, so our alternative hypothesis was $\rho > 0$.      



### Results

**RELATIONSHIP 1**  

$H_0: \rho = 0$  
$H_a: \rho > 0$  
where $\rho$ is the true population correlation between Global Sales (in millions of units) and Critic Score for all video games.

We obtain sample correlation of r = 0.245 with a p-value of essentially 0. This means that assuming the null hypothesis is true (that there is no correlation between global sales and critic score), there is essentially a 0% chance that we would obtain a sample correlation statistic as extreme as 0.245. Therefore, at the $\alpha$ = 0.01 level of significance, we reject the null hypothesis and conclude that there is sufficient evidence that supports the claim that there is a positive correlation between Global Sales and Critic Scores for all video games.  

```{r}
Games2.cor = filter(Games2,Critic_Score != "NA")
cor(Global_Sales~Critic_Score, data = Games2.cor)
set.seed(50000)
RandomizationCorrelation = do(1000)* cor(Global_Sales~shuffle(Critic_Score), data = Games2.cor)
gf_histogram(~cor, data = RandomizationCorrelation)
```
```{r}
prop(~cor >= 0.24547, data = RandomizationCorrelation)
```


**RELATIONSHIP 2**
 
An in-depth look into the distribution of global sales for the 3 main platforms: PS4, Xbox One and WiiU.

```{r}
#Sales for PS4
gf_boxplot(Global_Sales ~ Platform, data = filter(Games2, Platform == "PS4"))
gf_boxplot(log(Global_Sales) ~ Platform, data = filter(Games2, Platform == "PS4"))
favstats(~Global_Sales, data = filter(Games2, Platform == "PS4"))
cdata(~Global_Sales, p = 0.9, data = filter(Games2, Platform == "PS4"))
```

```{r}
#Sales for Xbox One
gf_boxplot(Global_Sales ~ Platform, data = filter(Games2, Platform == "XOne"))
gf_boxplot(log(Global_Sales) ~ Platform, data = filter(Games2, Platform == "XOne"))
favstats(~Global_Sales, data = filter(Games2, Platform == "XOne"))
cdata(~Global_Sales, p = 0.9, data = filter(Games2, Platform == "XOne"))
```

```{r}
#Sales for WiiU
gf_boxplot(Global_Sales ~ Platform, data = filter(Games2, Platform == "WiiU"))
gf_boxplot(log(Global_Sales) ~ Platform, data = filter(Games2, Platform == "WiiU"))
favstats(~Global_Sales, data = filter(Games2, Platform == "WiiU"))
cdata(~Global_Sales, p = 0.9, data = filter(Games2, Platform == "WiiU"))
```


|         Console         |       PS4       |    Xbox One    |      Wii U      |
|:-----------------------:|:---------------:|:--------------:|:---------------:|
| 90% Confidence Interval (millions of units) | (0.020 , 3.908) | (0.10 , 2.872) | (0.020 , 2.105) |
|        Min Value  (millions of units)      |       0.01      |      0.01      |       0.01      |
|        Max Value   (millions of units)     |      14.63      |      7.39      |       7.09      |   

We are 90% confident that the true mean global sale of a video game on PS4 is between 0.020 and 3.908 million USD.  
We are 90% confident that the true mean global sale of a video game on Xbox One is between 0.010 and 2.872 million USD.  
We are 90% confident that the true mean global sale of a video game on WiiU is between 0.020 and 2.105 million USD.  


**RELATIONSHIP 3**
$H_0: \rho = 0$  
$H_a: \rho > 0$  
where $\rho$ is the true population correlation between North American Sales (in millions of units) and European Union Sales (in millions of units) for all video games.  

We obtain sample correlation of r = 0.7653 with a p-value of essentially 0. This means that assuming the null hypothesis is true (that there is no correlation between North American Sales and European Union Sales), there is essentially a 0% chance that we would obtain a sample correlation statistic as extreme as 0.7653. Therefore, at the $\alpha$ = 0.01 level of significance, we reject the null hypothesis and conclude that there is sufficient evidence that supports the claim that there is a positive correlation between North American Sales and European Union Sales for all video games.  
```{r}
cor(NA_Sales~EU_Sales, data = Games2)
gf_point(NA_Sales~EU_Sales, data = Games2) %>% gf_lm()
set.seed(50000)
RandomizationCorrelation2 = do(1000)* cor(NA_Sales~shuffle(EU_Sales), data = Games2)
gf_histogram(~cor, data = RandomizationCorrelation2)
prop(~cor >= 0.7653, data = RandomizationCorrelation)
```


### Discussion
In order to gain a better understanding of the video game industry, our group chose specific variables and relationships that we thought were essential to this industry. The first two variables that we selected were the Critic Scores and the Global sales. We compared the relationship between these two variables by creating a randomization distribution that would help indicate whether there was any form of correlation between the two, assuming that there was none, as the null hypothesis stated. We then proceeded to finding confidence intervals to compare the average global sales between video games on the PS4, Xbox One, and WiiU. Lastly, we preformed a chi squared test to see whether the average video game sales matched the proportion of the civilian population for three regions: North America, European Union, and Japan. 

As previously mentioned, from the randomization distribution of 1000 simulations, we obtained a sample correlation of r = 0.245 with a p-value of essentially 0. This means that assuming the null hypothesis is true (that there is no correlation between global sales and critic score), there is essentially a 0% chance that we would obtain a sample correlation statistic as extreme as 0.245. Therefore, at the $\alpha$ = 0.01 level of significance, we reject the null hypothesis and conclude that there is sufficient evidence that supports the claim that there exists a positive correlation between Global Sales and Critic Scores for all video games.  

The 90% confidence intervals indicated that we are 90% confident that the true mean global sale of a video game on PS4 is between 0.020 and 3.908 million USD, the true mean global sale of a video game on Xbox One is between 0.010 and 2.872 million USD., and the true mean global sale of a video game on WiiU is between 0.020 and 2.105 million USD.  

As previously mentioned, from the randomization distribution of 1000 simulations, we obtained a sample correlation of r = 0.7653 with a p-value of essentially 0. This means that assuming the null hypothesis is true (that there is no correlation between global sales and critic score), there is essentially a 0% chance that we would obtain a sample correlation statistic as extreme as 0.7653. Therefore, at the $\alpha$ = 0.01 level of significance, we reject the null hypothesis and conclude that there is sufficient evidence that supports the claim that there exists a positive correlation between North American Sales and European Union Sales for all video games. 

As we finalized our project, some faults that our group was able to identify is that the data may not be representative of all games, as we had no way of knowing whether the data was randomized or not. For instance, we are aware that every game and console target a different age group/demographic, and since we do not know how the data were collected, some demographics may be better represented.  Furthermore, we were unable to indentify what time period this dataset represents. As time progresses, the video game market increases and access to gaming becomes more availble so current games are much more likely to outsell older-generation games. The dataset we worked with was overwhelmingly large (16,717 cases). If we had the opportunity to continue working on this project we would focus on obtaining smaller samples within this dataset, particularly one that would reflect the current game industry. 
